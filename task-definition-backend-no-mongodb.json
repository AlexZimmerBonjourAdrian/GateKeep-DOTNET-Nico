{
    "executionRoleArn":  "arn:aws:iam::126588786097:role/gatekeep-ecs-execution-role",
    "networkMode":  "awsvpc",
    "cpu":  "512",
    "requiresCompatibilities":  [
                                    "FARGATE"
                                ],
    "containerDefinitions":  [
                                 {
                                     "name":  "gatekeep-api",
                                     "image":  "126588786097.dkr.ecr.sa-east-1.amazonaws.com/gatekeep-api:latest",
                                     "cpu":  0,
                                     "portMappings":  [
                                                          {
                                                              "containerPort":  5011,
                                                              "hostPort":  5011,
                                                              "protocol":  "tcp"
                                                          }
                                                      ],
                                     "essential":  true,
                                     "environment":  [
                                                         {
                                                             "value":  "postgres",
                                                             "name":  "DATABASE__USER"
                                                         },
                                                         {
                                                             "value":  "sa-east-1",
                                                             "name":  "AWS_REGION"
                                                         },
                                                         {
                                                             "value":  "gatekeep-db.c7o0qk42qmwh.sa-east-1.rds.amazonaws.com",
                                                             "name":  "DATABASE__HOST"
                                                         },
                                                         {
                                                             "value":  "Gatekeep",
                                                             "name":  "DATABASE__NAME"
                                                         },
                                                         {
                                                             "name":  "ASPNETCORE_ENVIRONMENT",
                                                             "value":  "Production"
                                                         },
                                                         {
                                                             "value":  "http://+:5011",
                                                             "name":  "ASPNETCORE_URLS"
                                                         },
                                                         {
                                                             "value":  "5011",
                                                             "name":  "GATEKEEP_PORT"
                                                         },
                                                         {
                                                             "value":  "5432",
                                                             "name":  "DATABASE__PORT"
                                                         },
                                                         {
                                                             "value":  "Production",
                                                             "name":  "APP_ENVIRONMENT"
                                                         },
                                                         {
                                                             "value":  "true",
                                                             "name":  "REDIS_ENABLED"
                                                         },
                                                         {
                                                             "value":  "redis:6379",
                                                             "name":  "REDIS_CONNECTION"
                                                         },
                                                         {
                                                             "value":  "GateKeep:",
                                                             "name":  "REDIS_INSTANCE"
                                                         },
                                                         {
                                                             "value":  "GateKeep",
                                                             "name":  "JWT__ISSUER"
                                                         },
                                                         {
                                                             "value":  "GateKeepUsers",
                                                             "name":  "JWT__AUDIENCE"
                                                         },
                                                         {
                                                             "value":  "8",
                                                             "name":  "JWT__EXPIRATION_HOURS"
                                                         },
                                                         {
                                                             "value":  "8",
                                                             "name":  "SECURITY__PASSWORD_MIN_LENGTH"
                                                         },
                                                         {
                                                             "value":  "5",
                                                             "name":  "SECURITY__MAX_LOGIN_ATTEMPTS"
                                                         },
                                                         {
                                                             "value":  "15",
                                                             "name":  "SECURITY__LOCKOUT_DURATION_MINUTES"
                                                         }
                                                     ],
                                     "mountPoints":  [

                                                     ],
                                     "volumesFrom":  [

                                                     ],
                                     "secrets":  [
                                                     {
                                                         "valueFrom":  "arn:aws:secretsmanager:sa-east-1:126588786097:secret:gatekeep/db/password-14XBlu",
                                                         "name":  "DATABASE__PASSWORD"
                                                     },
                                                     {
                                                         "valueFrom":  "arn:aws:secretsmanager:sa-east-1:126588786097:secret:gatekeep/jwt/key-14XBlu",
                                                         "name":  "JWT__KEY"
                                                     }
                                                 ],
                                     "logConfiguration":  {
                                                              "logDriver":  "awslogs",
                                                              "options":  {
                                                                              "awslogs-group":  "/ecs/gatekeep",
                                                                              "awslogs-region":  "sa-east-1",
                                                                              "awslogs-stream-prefix":  "ecs"
                                                                          }
                                                          },
                                     "healthCheck":  {
                                                         "command":  [
                                                                         "CMD-SHELL",
                                                                         "curl -f http://localhost:5011/health || exit 1"
                                                                     ],
                                                         "interval":  30,
                                                         "timeout":  5,
                                                         "retries":  3,
                                                         "startPeriod":  60
                                                     },
                                     "systemControls":  [

                                                        ]
                                 }
                             ],
    "family":  "gatekeep-api",
    "taskRoleArn":  "arn:aws:iam::126588786097:role/gatekeep-ecs-task-role",
    "memory":  "1024"
}
